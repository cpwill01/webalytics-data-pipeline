version: 2

sources:
  - name: "{{ env_var('DBT_BIGQUERY_DATASET') }}"
    database: "{{ env_var('DBT_GCP_PROJECT') }}"
    loader: GCS

    tables:
      - name: locations_ext
        description: "External table of Locations data, stored as parquet in Cloud Storage"
        external:
          location: "gs://{{ env_var('DBT_GCS_BUCKET_NAME') }}/raw/flat_files/locations.parquet"
          options:
            format: parquet
      - name: songs_ext
        description: "External table of Songs data, stored as parquet in Cloud Storage"
        external:
          location: "gs://{{ env_var('DBT_GCS_BUCKET_NAME') }}/raw/flat_files/songs.parquet"
          options:
            format: parquet
